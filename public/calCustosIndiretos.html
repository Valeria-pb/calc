<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Custos Indiretos - CTI</title>

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="container">
      <h1 class="no-print">Calculadora de Custos Indiretos</h1>

      <div id="etapa1" class="no-print">
        <p class="question">
          Para o que você deseja calcular os custos indiretos hoje?
        </p>
        <div class="options">
          <button class="btn-inicio" onclick="selecionarTipo('projetos')">
            Projetos
          </button>
          <button class="btn-inicio" onclick="selecionarTipo('serviços')">
            Serviços
          </button>
        </div>
      </div>

      <div id="formulario-dados" class="hidden no-print">
        <p style="text-align: center">
          Calculando para: <strong id="tipo-escolhido"></strong>
        </p>
        <h3>Dados do Cálculo</h3>

        <label>Nome do Servidor (Obrigatório):</label>
        <input
          type="text"
          id="nomeServidor"
          placeholder="Digite seu nome completo"
        />

        <div id="campo-projeto" class="hidden">
          <label>Nome do Projeto (Obrigatório):</label>
          <input
            type="text"
            id="nomeProjeto"
            placeholder="Digite o nome do projeto"
          />
        </div>

        <label>Nome da Divisão (Obrigatório):</label>
        <input type="text" id="nomeDivisao" placeholder="Ex: DITPS" />

        <label>Laboratórios Utilizados:</label>
        <div style="display: flex; gap: 5px">
          <select id="selLaboratorio">
            <option value="">-- Selecione o Laboratório --</option>
            <option
              value="Lab. de Imageamento p/ Micro e Nanoeletrônica"
              data-area="53.62"
            >
              LAimage - Lab. de Imageamento p/ Micro e Nanoeletrônica
            </option>
            <option
              value="Lab. Aberto de Empacotamento e Integração de Sistemas"
              data-area="272.33"
            >
              LApacs - Lab. Aberto de Empacotamento e Integração de Sistemas
            </option>
            <option value="Lab. de Micro e Nanofabricação" data-area="204.00">
              LAmina - Lab. de Micro e Nanofabricação
            </option>
            <option value="Lab. Aberto de impressão 3D" data-area="362.71">
              LAprint - Lab. Aberto de impressão 3D
            </option>
            <option
              value="Lab. Aberto de Energia Fotovoltaica"
              data-area="250.91"
            >
              LAfoto - Lab. Aberto de Energia Fotovoltaica
            </option>
            <option
              value="Lab. de Processamento Fisico-Químico"
              data-area="117.45"
            >
              LAsupport - Lab. de Processamento Fisico-Químico
            </option>
            <option
              value="Lab. de Caracterização Espectroscópica"
              data-area="40.96"
            >
              LAsupport - Lab. de Caracterização Espectroscópica
            </option>
            <option value="Lab. de Fotônica" data-area="56.62">
              LAsupport - Lab. de Fotônica
            </option>
            <option value="Lab. de Biotecnologia" data-area="30.88">
              LAsupport - Lab. de Biotecnologia
            </option>
            <option value="Lab. DIPAQ" data-area="52.07">
              LAsupport - DIPAQ - Lab. de Análises de Falhas
            </option>
            <option value="Lab. DIPAQ" data-area="104.11">
              LAsupport - DIPAQ - Lab. de Qualificação de Produtos Eletrônicos
            </option>
            <option value="Lab. DIPAQ" data-area="171.16">
              LAsupport - DIPAQ - Lab. de Teste e Caracterização Elétrica
            </option>
            <option
              value="Lab. de Síntese Orgânica e Nanomateriais"
              data-area="35.41"
            >
              Lab. de Síntese Orgânica e Nanomateriais
            </option>
            <option
              value="Lab. de Eletrônica Têxtil e Impressa"
              data-area="40.73"
            >
              Lab. de Eletrônica Têxtil e Impressa
            </option>
            <option value="Lab. de Materiais Funcionais" data-area="43.28">
              Lab. de Materiais Funcionais
            </option>
            <option value="Lab. de Processos Físicos" data-area="41.92">
              Lab. de Processos Físicos
            </option>
            <option value="Lab. de Sistemas Ciberfísicos" data-area="84.55">
              Lab. de Sistemas Ciberfísicos
            </option>
            <option
              value="Lab. de Aprendizado de Máquina e Segurança da Informação"
              data-area="54.53"
            >
              Lab. de Aprendizado de Máquina e Segurança da Informação
            </option>
            <option
              value="Lab. de Metodologias para Governo Digital"
              data-area="72.71"
            >
              Lab. de Metodologias para Governo Digital
            </option>
            <option
              value="Lab. de Projetos e Circuitos Integrados"
              data-area="288.5"
            >
              Lab. de Projetos e Circuitos Integrados
            </option>
            <option
              value="Lab. de Recuperação de Materiais Eletrônicos"
              data-area="128.48"
            >
              Lab. de Recuperação de Materiais Eletrônicos
            </option>
            <option value="Lab. de Internet das Coisas" data-area="22.94">
              Lab. de Internet das Coisas
            </option>
            <option value="Lab. de Biofabricação" data-area="64.76">
              Lab. de Biofabricação
            </option>
            <option value="Lab. de Caracterização Óptica" data-area="21.71">
              Lab. de Caracterização Óptica
            </option>
            <option value="Lab. de Tecnologias Virtuais" data-area="287.79">
              Lab. de Tecnologias Virtuais
            </option>
            <option
              value="Lab. de Processamento Térmico - Sala de Fornos"
              data-area="21.09"
            >
              Lab. de Processamento Térmico - Sala de Fornos
            </option>
            <option value="Lab. de Processamento Orgânico" data-area="30.55">
              Lab. de Processamento Orgânico
            </option>
            <option value="Lab. de Corte de Vidros" data-area="12.17">
              Lab. de Corte de Vidros
            </option>
            <option value="Lab. de Instrumentação Científica" data-area="23.21">
              Lab. de Instrumentação Científica
            </option>
            <option value="Lab. Linha Piloto de Displas" data-area="49.85">
              Lab. Linha Piloto de Displas
            </option>
            <option value="Lab. LMECI" data-area="80.43">Lab. LMECI</option>
            <option value="Lab. LAEDAS" data-area="80.43">Lab. LAEDAS</option>
          </select>
          <button
            type="button"
            class="btn-add"
            onclick="adicionarLaboratorio()"
          >
            Adicionar
          </button>
        </div>
        <div id="area-labs-selecionados" class="lista-selecionados hidden">
          <strong>Laboratórios Selecionados:</strong>
          <div id="listaLabsWeb"></div>
        </div>

        <label>Equipamento utilizado:</label>
        <div style="display: flex; gap: 5px">
          <select id="selEquipamento">
            <option value="">-- Adicione um laboratório primeiro --</option>
          </select>
          <button
            type="button"
            class="btn-add"
            onclick="adicionarEquipamento()"
          >
            Adicionar
          </button>
        </div>

        <div id="area-selecionados" class="lista-selecionados hidden">
          <strong>Equipamentos Selecionados:</strong>
          <div id="listaEquipsWeb"></div>
        </div>

        <div id="campo-duracao-servico" class="hidden">
          <label>Tempo de Duração Total (Soma dos Equipamentos):</label>
          <input
            type="number"
            id="horaServico"
            placeholder="0"
            readonly
            style="background-color: #f0f0f0"
          />
        </div>

        <div id="campo-duracao-projeto" class="hidden">
          <label>Tempo de Duração do Projeto (em MESES):</label>
          <input type="number" id="mesesProjeto" placeholder="Ex: 12" />

          <label style="margin-top: 10px; font-size: 0.85rem; color: #666"
            >Total de horas de equipamentos (Soma):</label
          >
          <input
            type="number"
            id="horaEquipamento"
            placeholder="0"
            readonly
            style="background-color: #f0f0f0"
          />
        </div>

        <div class="row-pessoal">
    <div class="col-pessoal">
        <label for="horasSuperior">Total Horas Nível Superior:</label>
        <input type="number" id="horasSuperior" placeholder="Ex: 40" min="0">
    </div>
    <div class="col-pessoal">
        <label for="horasIntermediario">Total Horas Nível Médio/Interm.:</label>
        <input type="number" id="horasIntermediario" placeholder="Ex: 20" min="0">
    </div>
    <!-- <div class="valor-pessoal">
        <label for="horasIntermediario">Total Horas Nível Médio/Interm.:</label>
        <input type="number" id="horasIntermediario" placeholder="Ex: 20" min="0">
    </div> -->



</div>

        <button class="btn-proximo" onclick="validarEGerar()">
          Gerar Relatório
        </button>
      </div>

      <div id="relatorio-final" class="hidden">
        <h2 style="text-align: center; color: #004a80">
          Relatório de Custos Indiretos
        </h2>
        <hr />
        <p>
          <strong>Nome do Servidor:</strong> <span id="res-servidor"></span>
        </p>
        <p><strong>Tipo:</strong> <span id="res-tipo"></span></p>
        <p id="res-projeto-linha">
          <strong>Projeto:</strong> <span id="res-projeto"></span>
        </p>
        <p><strong>Divisão:</strong> <span id="res-divisao"></span></p>

        <p><strong>Laboratórios Utilizados:</strong></p>
        <ul id="res-lista-laboratorios" style="font-size: 0.9rem"></ul>

        <p><strong>Equipamentos Utilizados:</strong></p>
        <ul id="res-lista-equipamentos" style="font-size: 0.9rem"></ul>

        <p>Total Horas Nível Superior: <span id="res-horas-sup"></span>h</p>

        <p>Total Horas Nível Médio/Interm.:<span id="res-horas-int"></span>h</p>

        <!-- NÃO ESQUECER DE FAZER AQUI O CÁLCULO DO VALOR DE RECURSOS HUMANOS E COLOCAR NO RELATÓRIO -->

        <p><strong>Valor de recursos Humanos:</strong> R$ <span id= "somaHorasPessoal"></span></p>

        <p><strong>Duração de uso dos equipamentos:</strong> <span id="res-duracao"></span></p>

        <div
          style="
            background: #eef6ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
          "
        >
          <p class="item-calculado">
            <strong>Área Alocada Total:</strong> <span id="res-area"></span> m²
          </p>
          <p class="item-calculado">
            <strong>Total Depreciação Predial:</strong> R$
            <span id="res-dep"></span>
          </p>
          <p class="item-calculado">
            <strong>Total Conservação Predial:</strong> R$
            <span id="res-cons"></span>
          </p>
          <p class="item-calculado">
            <strong>Serviços e Suprimentos:</strong> R$
            <span id="res-suprimentos"></span>
          </p>
          <p class="item-calculado">
            <strong>Depreciação de Equipamentos:</strong> R$
            <span id="res-dep-equip"></span>
          </p>
          <p class="item-calculado">
            <strong>Manutenção de Equipamentos:</strong> R$
            <span id="res-man-equip"></span>
          </p>
        </div>

        <br />
        <p style="font-size: 0.8rem; color: #666">
          Gerado em: <span id="data-geracao"></span>
        </p>
        <!-- //onclick="window.print()" -->
        <button class="no-print" 
        style="background: #f39c12; margin-top: 10px; margin-right: 5px; color: white; border: none; padding: 12px 20px; border-radius: 6px; cursor: pointer; font-weight: bold;" onclick="voltarParaEdicao()">
    Voltar e Editar
</button>
        <button class="btn-pdf no-print" onclick="window.print()">
          Salvar como PDF
        </button>

        <button
          class="no-print"
          style="background: #666; margin-top: 10px"
          onclick="location.reload()"
        >
          Novo Cálculo
        </button>
      </div>
      
    </div>

    <script src="script.js"></script>
  </body>
</html>
